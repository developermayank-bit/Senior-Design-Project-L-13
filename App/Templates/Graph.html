<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" >
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/ionicons.min.css') }}" >
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}" >
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/Utils.css') }}" >
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/progressbar.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
  <title>Live Analytics for Moisture</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
     #graph-container {
      width: 800px; /* Adjust the width as desired */
      height: 500px; /* Adjust the height as desired */
      margin: 20px auto;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <nav id="topNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#first" style="font-size:2.5rem"> AGRIIFY</a>
            </div>
            <div class="navbar-collapse collapse" id="bs-navbar">
                <ul class="nav navbar-nav">
                    <li>
                        <a class="page-scroll" href="#home">HOME</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#two">CROP RECOMMENDATION</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#three">FERTLIZER SUGGESTION</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#four">DISEASE CLASSIFICATION</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#five">ANALYTICS</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="page-scroll" data-toggle="modal"  title="A free Bootstrap video landing theme"
                            href="pages/cv.html">CONTACT</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
<div class="main-crop" >

	<h1 class="heading" style="font-size:5vh">Live Analytics Of moisture Content in your soil</h1>
  <div id="graph-container" style="margin-top:3vh">
    <canvas id="graph"></canvas>
  </div>
</div>
  <script>
  window.onload = function() {
    var ctx = document.getElementById("graph").getContext("2d");

    var data = {
      labels: [],
      datasets: [{
        label: "Continuous Graph",
        data: [],
        backgroundColor: "rgba(66, 134, 244, 0.4)",
        borderColor: "rgba(66, 134, 244, 1)",
        borderWidth: 2,
        fill: "origin",
      }]
    };

    var options = {
      responsive: true,
      animation: {
        duration: 0
      },
      scales: {
        x: {
          type: "linear",
          display: true,
          ticks: {
            beginAtZero: true,
            maxTicksLimit: 6, // Set maximum number of ticks on x-axis
          }
        },
        y: {
          type: "linear",
          display: true,
          ticks: {
            beginAtZero: true,
            suggestedMax: 100,
            suggestedMin: 0,
            stepSize: 20
          }
        }
      }
    };

    var chart = new Chart(ctx, {
      type: "line",
      data: data,
      options: options
    });

    var x = 0;
    var y = 0;
    var dataValues = [5, 10, 8, 12, 6, 14, 20, 30, 25, 18, 22]; // Array of data values
    var currentIndex = 0;
    var updateInterval = 3000; // milliseconds

    function updateGraph() {
      var value = dataValues[currentIndex];
      chart.data.labels.push(x.toFixed(2));
      chart.data.datasets[0].data.push(value.toFixed(2));

      if (chart.data.labels.length > 6) { // Keep only 6 data points
        chart.data.labels.shift();
        chart.data.datasets[0].data.shift();
      }

      chart.update();

      x += 0.1;
      currentIndex = (currentIndex + 1) % dataValues.length; // Loop through the array
    }

    setInterval(updateGraph, updateInterval);
  };
</script>

  <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.easing.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/wow.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
  
  </script>
</body>
</html>
